<!DOCTYPE html>
<head>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/utils/valoracions.css">
    <link rel="stylesheet" href="../../css/buton_animation.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconect" href="https://fonts.googleapis.com">
    <link rel="preconect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
        rel="stylesheet"
    >
    <link href="https://emoji-css.afeld.me/emoji.css" rel="stylesheet">
</head>
<section class=top-section>
    <div class="top-left">
        <a class="link" href="../../index.html#historia">Historia</a>
    </div>
    <div class="top-mid">
        <a class="title" href="../../index.html"><p class="titulo">PARRUFU RESTAURANT</p></a>
    </div>
    <div class="top-right">
        <a class="link" href="#form">Valoracions</a>
    </div>
</section>
<section class="content">
    <div id="form" class="form">
        <h1 class="titulos" id="h1">Valora la teva experiencia</h1>
        <form class="valoracio" action="" method="POST">
            
            
            <label for="cambrer" class="field">Nom</label>

        
            
            <input type="text" class="option" required>
                    
            <label for="valoracio-cambrer" class="field1">Valora el teu cambrer</label>
            <div class="option1">
                

                <label for="valoracio-cambrer1">
                    <input type="checkbox" id="valoracio-cambrer1" class="hiden1" value="0">
                    <i id="star1" class="bi-star-fill" name="star"></i>
                </label>
                <label for="valoracio-cambrer2">
                    <input type="checkbox" id="valoracio-cambrer2" class="hiden1" value="0">
                    <i id="star2" class="bi-star-fill" name="star"></i>
                </label>
                <label for="valoracio-cambrer3">
                    <input type="checkbox" id="valoracio-cambrer3" class="hiden1" value="0">
                    <i id="star3" class="bi-star-fill" name="star"></i>
                </label>
                <label for="valoracio-cambrer4">
                    <input type="checkbox" id="valoracio-cambrer4" class="hiden1" value="0">
                    <i id="star4" class="bi-star-fill" name="star"></i>
                </label>  
                <label for="valoracio-cambrer5">
                    <input type="checkbox" id="valoracio-cambrer5" class="hiden1" value="0">
                    <i id="star5" class="bi-star-fill" name="star"></i>
                </label>

            </div>
            <label for="valoracio-local" class="field2">Valora el nostre local</label>
            <div class="option2">
                

                <label for="valoracio-local1">
                    <input type="checkbox" id="valoracio-local1" class="hiden2" value="0">
                    <i id="star11" class="bi-star-fill" name="star2"></i>
                </label>
                <label for="valoracio-local2">
                    <input type="checkbox" id="valoracio-local2" class="hiden2" value="0">
                    <i id="star22" class="bi-star-fill" name="star2"></i>
                </label>
                <label for="valoracio-local3">
                    <input type="checkbox" id="valoracio-local3" class="hiden2" value="0">
                    <i id="star33" class="bi-star-fill" name="star2"></i>
                </label>
                <label for="valoracio-local4">
                    <input type="checkbox" id="valoracio-local4" class="hiden2" value="0">
                    <i id="star44" class="bi-star-fill" name="star2"></i>
                </label>  
                <label for="valoracio-local5">
                    <input type="checkbox" id="valoracio-local5" class="hiden2" value="0">
                    <i id="star55" class="bi-star-fill" name="star2"></i>
                </label>

            </div>
            <button class="button1" value="submit"><i class="bi bi-chat-dots"></i></button>
            
        </form>
        <h2 class="titulos" id="h2">Opinions d'altres clients</h2>
        <div class="opinions">
            <div id="opinions">
                
            </div>
            
        </div>
        <h3 class="titulos" id="h3">Deixa la teva opinió</h3>
        <div class="reviews">
            <form action="" class="review1">
                <label for="nom">Nom</label>
                <input type="text" id="nom">
                <label for="comentari">Comentari</label>
                <textarea id="comentari"></textarea>
                <label for="rating">Valorans del 1-5</label>
                <input type="number" id="rating" min="1" max="5">
                <button class="button2" value="submit" id="btn"><i class="bi bi-chat-dots"></i></button>
            </form>
        </div>
    </div>
    
</section>
<section class="bottom">
    <div class="bottom-left">
        <a href="mailto:reservas@parrufu.com">Correu electronic</a>
        <a href="tel:+34972300000">Telèfon</a>
        <a href="reserva.html">Reservar cita  <i class="bi bi-calendar-date-fill"></i></a>
    </div>
    <div class="bottom-mid">

    </div>
    <div class="bottom-right">
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2976.8030470464737!2d2.6320172759373675!3d41.74634087125657!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x12bb254368efb895%3A0x254df06ba578c487!2sRestaurant%20Parrufu!5e0!3m2!1sca!2ses!4v1711016782430!5m2!1sca!2ses" width="300" height="230" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
</section>
<script>
    
        var checkboxes1 = document.querySelectorAll('input[class="hiden1"]');
        var stars1 = document.querySelectorAll('i[name="star"]');

        checkboxes1.forEach((checkbox, index) => {
            checkbox.addEventListener('change', function() {
                if (this.checked) {
                    for (let i = 0; i <= index; i++) {
                        stars1[i].style.color = 'rgb(207, 200, 0)';
                        checkboxes1[i].checked = true;
                        checkboxes1[i].value = 1;
                    }
                } else {
                    for (let i = index; i < stars1.length; i++) {
                        stars1[i].style.color = 'gray';
                        checkboxes1[i].checked = false;
                        checkboxes1[i].value = 0;
                    }
                }
            });
        });

        var checkboxes2 = document.querySelectorAll('input[class="hiden2"]');
        var stars2 = document.querySelectorAll('i[name="star2"]');

        checkboxes2.forEach((checkbox, index) => {
            checkbox.addEventListener('change', function() {
                if (this.checked) {
                    for (let i = 0; i <= index; i++) {
                        stars2[i].style.color = 'rgb(207, 200, 0)';
                        checkboxes2[i].checked = true;
                        checkboxes1[i].value = 1;
                    }
                } else {
                    for (let i = index; i < stars2.length; i++) {
                        stars2[i].style.color = 'gray';
                        checkboxes2[i].checked = false;
                        checkboxes1[i].value = 0;
                    }
                }
            });
        });
        var opinions = {
            "opinion1":{
                "id" : 1,
                "name" : "krolek_98",
                "coment" : "Muy buen servicio y comida excelente, volveré seguro!!",
                "rating" : 5
            },
            "opinion2":{
                "id" : 2,
                "name" : "its_spotcrack",
                "coment" : "Excelentes platos i buen ambiente!",
                "rating" : 4
            },
            "opinion3":{
                "id" : 3,
                "name" : "suchita4",
                "coment" : "Me ha encantado el menu de hoy, ha sido agrdable el camarero i la sepia estaba bastante tierna",
                "rating" : 3
            },
            "opinion4":{
                "id" : 4,
                "name" : "songoku98",
                "coment" : "Los canalones les faltava beixamel pero por lo demas muy bien todo, lo recomiendo",
                "rating" : 4
            },
            "opinion5":{
                "id" : 5,
                "name" : "terremotoproxd",
                "coment" : "Vengo desde asturias y he parado en este restaurante para comer vaya mierda de camareros, me han atendido fatal las gambas estavan muy duras parecian salidas del puticlub. No vuelvo a venir nunca jamas de los jamases que perdida de dinero dios mio.",
                "rating" : 1
            },
            "opinion6":{
                "id" : 6,
                "name" : "Juanma Tarifa",
                "coment" : "Me parta un rayo que las gambunes etavan to uenas, mi pimo er dani la a disfrutao com un chikillo me muera, dalante dios que los payos esto cocinan bien, pero no mejor que la mama, ai la mama!!! lo recomiendo petxa, dios vengida a los payos estos, gloria ar puerbo Gitano, por la raza   <i class='em em-latin_cross'></i>",
                "rating" : 5
            },
            

        }
        function printOpinions() {
            const opinionsDiv = document.getElementById("opinions");
            

            for (const opinionId in opinions) {
                const opinion = opinions[opinionId];
                const opinionHtml = `
                    <div class="opinion">
                        <table class="review">
                            <tr>
                                <td class="name">${opinion.name}</td>
                                <td class="rating">${opinion.rating}<i name="comentrating"  class="bi-star-fill"></i></td>
                            </tr>
                            <tr>
                                <td class="coment" colspan="2">${opinion.coment}</td>
                            </tr>
                        </table>
                    </div>
                `;
                opinionsDiv.innerHTML += opinionHtml;
            }
        }

        printOpinions();
        function send_form(){
            window.alert("Formulari enviat correctament");
        }
</script>


